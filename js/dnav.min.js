"undefined"==typeof sos&&(window.sos={}),"object"!=typeof sos.config&&(sos.config={}),"object"!=typeof sos.config.dnav&&(sos.config.dnav={}),sos.dnav={navList:{},defaultSet:function(){void 0===sos.config.dnav.iniTopPos&&(sos.config.dnav.iniTopPos=0),void 0===sos.config.dnav.top&&(sos.config.dnav.top=0),void 0===sos.config.dnav.pos&&(sos.config.dnav.pos="affix"),void 0===sos.config.dnav.clearElem&&(sos.config.dnav.clearElem=""),void 0===sos.config.dnav.fullWidth&&(sos.config.dnav.fullWidth=!1),void 0===sos.config.dnav.stickOn&&(sos.config.dnav.stickOn=""),void 0===sos.config.dnav.container&&(sos.config.dnav.container=""),void 0===sos.config.dnav.iconPos&&(sos.config.dnav.iconPos="left")},setup:function(o){"object"==typeof o&&$.each(o,function(o,n){void 0!==sos.config.dnav[o]&&(sos.config.dnav[o]=o in["iniTopPos","top"]?parseInt(n):o in["fullWidth"]?parseBool(n):n)})},extend:function(){let o=$(document).find(".sos-dnav-extend"),n={access_rank:0,strict_access:!1,title:"",icon:"",onclick:"",newtab:!1,name:"",classname:""};o.length>0&&o.each(function(o,s){let i=$(s).data();$.each(n,function(o,n){i.hasOwnProperty(o)||(i[o]=n)}),sos.dnav.navList.push(i)})},init:function(o){if("object"==typeof o){var n=sos.dnav.checkNavList(o);if(!n)return console.error("Invalid navigation list. Kindly reffer/comform to DragNag manual @ https://github.com/soswapp/dnav.soswapp"),!1;sos.dnav.navList=n,sos.dnav.extend(),sos.dnav.populate()}else sos.dnav.fetchFile(o,sos.dnav.init)},populate:function(){if("object"==typeof sos.dnav.navList&&sos.dnav.navList.length>0){var o=sos.dnav.navList;if("object"!=typeof o||o.length<=0)return console.error("No navigation list to display"),!1;var n=sos.config.dnav,s=void 0!==n.pos?n.pos:"affix",i=1==parseBool(n.fullWidth),a=n.iconPos;let t=`<nav id="sos-dnav" class="theme-font color color-face ${s}">`;i||(t+='<div class="view-space">'),t+='<button class="sos-btn regular" id="sos-dnav-scroll-left"><i class="fas fa-angle-left"></i></button>',t+='<button class="sos-btn regular" id="sos-dnav-scroll-right"><i class="fas fa-angle-right"></i></button>',t+='<div id="sos-dnav-wrap" class="show-direction">',t+='<ul id="nvlst">',$.each(o,function(o,n){t+="<li";let s=[];n.classname=n.classname.trim(),n.classname.length&&null!==n.classname&&s.push(n.classname),n.name==sos.config.page.name&&s.push("sos-dnav-current"),s.length&&(t+=` class="${s.join(" ")}"`),t+=">",t+="<a",""!==n.onclick&&void 0!==n.onclick&&null!==n.onclick&&(t+=` onclick="${n.onclick}"`),1==n.newtab&&(t+=' target="_blank"'),t+=` href="${n.link}"`,t+=">",t+=`${"left"==a?n.icon:""} ${n.title} ${"right"==a?n.icon:""}`,t+="</a>",t+="</li>",t+='<li class="clr"></li>'}),t+="</ul>",t+="</div>",i||(t+="</div>"),t+="</nav>",$("body").prepend(t),sos.dnav.show(),sos.dnav.showDirection(),$.event.trigger({type:"dnavLoaded",message:"DragNav loadded successfully.",time:new Date})}else console.error("No navigation to show")},fetchFile:function(o,n){var s={group:sos.config.page.group,format:"json"};return $.ajax({url:o,data:s,dataType:"json",type:"get",success:function(s){if(s&&("0.0"==s.status||s.errors.length<=0))return n(s.navlist),!0;console.error("Failed to load navigation from: "+o+". Error: "+s.message)},error:function(){console.error("Failed to load navigation from: "+o)}}),!1},checkNavList:function(o){return o},show:function(){if($(document).find("#sos-dnav.affix, #sos.dnav.fixed").length>0){var o=sos.config.dnav,n=$(o.stickOn),s=n.length>0?n.offset().top+n.outerHeight()-$(window).scrollTop():void 0!==typeof o.iniTopPos?o.iniTopPos:0,i=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed");i.animate({top:s,opacity:1},200,function(){if(sos.dnav.width(),o.clearElem.length>0){var n=$(o.clearElem),s=n.length<=0?0:parseFloat(n.css("margin-top").replace("px",""));n.length>0&&n.animate({marginTop:i.outerHeight()+s},200)}})}},hide:function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0){var o=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed"),n=o.outerHeight();o.animate({top:-n,opacity:0},200,function(){if(sos.config.dnav.clearElem.length>0){var n=$(sos.config.dnav.clearElem),s=n.length<=0?0:parseFloat(n.css("margin-top").replace("px",""));n.length>0&&n.animate({marginTop:o.outerHeight()-s},200)}})}},showDirection:function(){var o=$(document).find("#sos-dnav");if(o.length>0){var n=$("#sos-dnav-wrap").innerWidth(),s=0;$(document).find("#sos-dnav ul li").each(function(){s+=$(this).outerWidth()}),s>n?o.addClass("show-direction"):($("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:0},300),o.removeClass("show-direction"))}},width:function(){if($(document).find("#sos-dnav").length>0){var o=0;$(document).find("#sos-dnav ul li").each(function(n){o+=$(this).outerWidth()}),$(document).find("#sos-dnav ul#nvlst").width(o),sos.dnav.showDirection()}}},sos.dnav.defaultSet(),$(window).bind("resize",function(){sos.dnav.width()}),$(document).on("mouseover","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"block",opacity:1}),$(document).on("mouseout","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"none",opacity:0})})}),$(window).scroll(function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0&&sos.config.dnav.iniTopPos>0){var o=$(sos.config.dnav.stickOn),n=o.offset().top+o.outerHeight()-$(window).scrollTop();n=n>=sos.config.dnav.top?n:sos.config.dnav.top,o.length>0&&($(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed")).css({top:n+"px"})}}),$(document).on("click","#sos-dnav #sos-dnav-scroll-left",function(){var o=$("#sos-dnav #sos-dnav-wrap").scrollLeft()-100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:o},300)}),$(document).on("click","#sos-dnav #sos-dnav-scroll-right",function(){var o=$("#sos-dnav #sos-dnav-wrap").scrollLeft()+100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:o},300)}),$(window).bind("dnavLoaded",function(){let o=$(document).find(".sos-dnav-current").eq(0);if(o.length){let n=o.offset().left+o.outerWidth(),s=$(document).find("#sos-dnav-wrap");n>s.innerWidth()&&s.animate({scrollLeft:n},350)}});