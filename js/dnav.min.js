"undefined"==typeof sos&&(window.sos={}),"object"!=typeof sos.config&&(sos.config={}),"object"!=typeof sos.config.dnav&&(sos.config.dnav={}),sos.dnav={navList:{},defaultSet:function(){void 0===sos.config.dnav.iniTopPos&&(sos.config.dnav.iniTopPos=0),void 0===sos.config.dnav.top&&(sos.config.dnav.top=0),void 0===sos.config.dnav.pos&&(sos.config.dnav.pos="affix"),void 0===sos.config.dnav.clearElem&&(sos.config.dnav.clearElem=""),void 0===sos.config.dnav.fullWidth&&(sos.config.dnav.fullWidth=!1),void 0===sos.config.dnav.stickOn&&(sos.config.dnav.stickOn=""),void 0===sos.config.dnav.container&&(sos.config.dnav.container=""),void 0===sos.config.dnav.iconPos&&(sos.config.dnav.iconPos="left")},setup:function(n){"object"==typeof n&&$.each(n,function(n,o){void 0!==sos.config.dnav[n]&&(sos.config.dnav[n]=n in["iniTopPos","top"]?parseInt(o):n in["fullWidth"]?parseBool(o):o)})},extend:function(){let n=$(document).find(".sos-dnav-extend"),o={access_rank:0,strict_access:!1,title:"",icon:"",onclick:"",newtab:!1,name:"",classname:""};n.length>0&&n.each(function(n,s){let i=$(s).data();$.each(o,function(n,o){i.hasOwnProperty(n)||(i[n]=o)}),sos.dnav.navList.push(i)})},init:function(n){if("object"==typeof n){var o=sos.dnav.checkNavList(n);if(!o)return console.error("Invalid navigation list. Kindly reffer/comform to DragNag manual @ https://github.com/soswapp/dnav.soswapp"),!1;sos.dnav.navList=o,sos.dnav.extend(),sos.dnav.populate()}else sos.dnav.fetchFile(n,sos.dnav.init)},populate:function(){if("object"==typeof sos.dnav.navList&&sos.dnav.navList.length>0){var n=sos.dnav.navList;if("object"!=typeof n||n.length<=0)return console.error("No navigation list to display"),!1;var o=sos.config.dnav,s=void 0!==o.pos?o.pos:"affix",i=1==parseBool(o.fullWidth),a=o.iconPos;let t=`<nav id="sos-dnav" class="theme-font color color-face ${s}">`;i||(t+='<div class="view-space">'),t+='<button class="sos-btn regular" id="sos-dnav-scroll-left"><i class="fas fa-angle-left"></i></button>',t+='<button class="sos-btn regular" id="sos-dnav-scroll-right"><i class="fas fa-angle-right"></i></button>',t+='<div id="sos-dnav-wrap" class="show-direction">',t+='<ul id="nvlst">',$.each(n,function(n,o){t+="<li";let s=[];o.classname=o.classname.trim(),o.classname.length&&null!==o.classname&&s.push(o.classname),o.name==sos.config.page.name&&s.push("sos-dnav-current"),s.length&&(t+=` class="${s.join(" ")}"`),t+=">",t+="<a",""!==o.onclick&&void 0!==o.onclick&&null!==o.onclick&&(t+=` onclick="${o.onclick}"`),1==o.newtab&&(t+=' target="_blank"'),t+=` href="${o.link}"`,t+=">",t+=`${"left"==a?o.icon:""} ${o.title} ${"right"==a?o.icon:""}`,t+="</a>",t+="</li>",t+='<li class="clr"></li>'}),t+="</ul>",t+="</div>",i||(t+="</div>"),t+="</nav>",$("body").prepend(t),sos.dnav.show(),sos.dnav.showDirection(),$.event.trigger({type:"dnavLoaded",message:"DragNav loadded successfully.",time:new Date})}else console.error("No navigation to show")},fetchFile:function(n,o){var s={group:sos.config.page.group,format:"json"};return $.ajax({url:n,data:s,dataType:"json",type:"get",success:function(s){if(s&&("0.0"==s.status||s.errors.length<=0))return o(s.navlist),!0;console.error("Failed to load navigation from: "+n+". Error: "+s.message)},error:function(){console.error("Failed to load navigation from: "+n)}}),!1},checkNavList:function(n){return n},show:function(){if($(document).find("#sos-dnav.affix, #sos.dnav.fixed").length>0){var n=sos.config.dnav,o=$(n.stickOn),s=o.length>0?o.offset().top+o.outerHeight()-$(window).scrollTop():void 0!==typeof n.iniTopPos?n.iniTopPos:0,i=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed");i.animate({top:s,opacity:1},200,function(){if(sos.dnav.width(),n.clearElem.length>0){var o=$(n.clearElem),s=o.length<=0?0:parseFloat(o.css("margin-top").replace("px",""));o.length>0&&o.animate({marginTop:i.outerHeight()+s},200)}})}},hide:function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0){var n=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed"),o=n.outerHeight();n.animate({top:-o,opacity:0},200,function(){if(sos.config.dnav.clearElem.length>0){var o=$(sos.config.dnav.clearElem),s=o.length<=0?0:parseFloat(o.css("margin-top").replace("px",""));o.length>0&&o.animate({marginTop:n.outerHeight()-s},200)}})}},showDirection:function(){var n=$(document).find("#sos-dnav");if(n.length>0){var o=$("#sos-dnav-wrap").innerWidth(),s=21;$(document).find("#sos-dnav ul li").each(function(){s+=$(this).outerWidth()}),s>o?n.addClass("show-direction"):($("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:0},300),n.removeClass("show-direction"))}},width:function(){if($(document).find("#sos-dnav").length>0){var n=7;$(document).find("#sos-dnav ul li").each(function(o){n+=$(this).outerWidth()}),$(document).find("#sos-dnav ul#nvlst").width(n),sos.dnav.showDirection()}}},sos.dnav.defaultSet(),$(window).bind("resize",function(){sos.dnav.width()}),$(document).on("mouseover","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"block",opacity:1}),$(document).on("mouseout","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"none",opacity:0})})}),$(window).scroll(function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0&&sos.config.dnav.iniTopPos>0){var n=$(sos.config.dnav.stickOn),o=n.offset().top+n.outerHeight()-$(window).scrollTop();o=o>=sos.config.dnav.top?o:sos.config.dnav.top,n.length>0&&($(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed")).css({top:o+"px"})}}),$(document).on("click","#sos-dnav #sos-dnav-scroll-left",function(){var n=$("#sos-dnav #sos-dnav-wrap").scrollLeft()-100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:n},300)}),$(document).on("click","#sos-dnav #sos-dnav-scroll-right",function(){var n=$("#sos-dnav #sos-dnav-wrap").scrollLeft()+100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:n},300)}),$(window).bind("dnavLoaded",function(){setTimeout(function(){let n=$(document).find(".sos-dnav-current").eq(0);if(n.length){let o=n.offset().left+n.outerWidth(),s=$(document).find("#sos-dnav-wrap");o>s.innerWidth()&&s.animate({scrollLeft:o-s.innerWidth()},550)}},1500)});